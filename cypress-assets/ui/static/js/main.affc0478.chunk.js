(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{115:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0BAMAAADP4xsBAAAAMFBMVEVMaXGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkY2KmZmZn///+UJOIGAAAADXRSTlMAv9pA71oQgJsgMK9wm2qt1QAAAp9JREFUeF7t1k9rE2EUxeGTDGn+VGpcuStu7EJkCFRcBqFQdRNSFy5LwEp3Eje6K9mKEELpoqsS3OhCJJ+gBFy46zcoNG2K0cLBLyCVzpv2knamQu47oHCfD/DLMJmZ8+LfYIwxxhhjjDHGGGOMCd7WMam4+BBezLKPCesheRc+zLELAeRqJHkPOkETwOrhxwYEVnlm2IVGLiwDaI+qTzq4UKKzDIWXIc/S4XGVI7nGLJ2RorxeI5tAiQeb5KAi92Osg2lt1zh8A+AGe1ghD+tw2hzrY0ql81qG/eh3TuCEHOthSgHZwplX7ADY5AAOz5U1V/0c0bMH4BN54iEt/+LwXfTsASvkoA4nVKXlfW4CtSN8IE8qGNvlWFP1xrCMEh+hylEHVx6+LjTt+TIKbKH6uIErr8xA/Q3Jso7PDYgcnafQChalO3FH6vBLPqpLSMM2Sbn7fr349hXpMObmabxfHtL78Vx69pZTQbx8a+r0DTp3EG+nO2VahuY74t3G9OkqI8MO4uQWFOkCnRbirFUU6WKNkSPEeQ9FGhuMHCJGsKxKZ685m2X7qnRwzUH4NVRp7CYehIs/lemdxLNIpqlM5xMPZ88ayvRMyMgxLplZgioth5FhA5MKPXU6k3CmfNBAotO/ivolOj8w6T6S/d4X1116O/ZQmS97SK/Rqcd8qpXpnOwB5nihqU8n74E+LXvgOy170POfnpE98J3GnuyB57Tsgfe07IH/tOyB//QWnYr3tOyB97Tsgf+07IHvtOxBy3+6eGkPNAMjXH9D9kB5wcl74Dste7DgP4152QPf6S90Ot7Tsgfe07IH/tPYY4wDL+lseukgvTR200tvpZfOp5dGmF66ml46k166OB+T1k3Bf8sYY4wxxhhjjDHmD3G98ciCYzPLAAAAAElFTkSuQmCC"},224:function(e,t,a){e.exports=a(454)},449:function(e,t,a){e.exports=a.p+"static/media/sathit.73636e81.png"},450:function(e,t,a){e.exports=a.p+"static/media/sombut.8f784fcf.png"},451:function(e,t,a){e.exports=a.p+"static/media/somchai.b68b4d9b.png"},452:function(e,t,a){e.exports=a.p+"static/media/somprasong.f65b03ee.png"},453:function(e,t,a){e.exports=a.p+"static/media/sornthep.292cd797.png"},454:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),i=a(9),o=a(47),s=a(56),u=a(39),m=a(192),d=a(158),p=a(193),E=a(194),b=a.n(E).a.create({baseURL:"http://127.0.0.1:5000/api/v1"}),f=a(34),g=a(7),h=a.n(g),v=a(13);function O(e){return{type:"app/ui/SET_FLASH_MESSAGE",payload:{message:e}}}var y="app/auth/LOGOUT";function j(e){e?localStorage.setItem("accessToken",e):localStorage.removeItem("accessToken")}function S(e){e?b.defaults.headers.common.Authorization="Bearer ".concat(e):delete b.defaults.headers.common.Authorization}var C=function(){return function(e){return function(t){return b.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&(j(null),S(null),Object(f.d)("/")),Promise.reject(e)})),e(t)}}},x=a(6),A={isLoading:!1,isProfileLoaded:!1,accessToken:localStorage.getItem("accessToken"),user:null,error:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/auth/LOAD_TOKEN":return Object(x.a)(Object(x.a)({},e),{},{accessToken:t.payload.token});case"app/auth/SIGNIN_REQUEST":case"app/auth/LOAD_PROFILE_REQUEST":case"app/auth/UPDATE_PROFILE_REQUEST":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0});case"app/auth/LOAD_PROFILE_SUCCESS":case"app/auth/UPDATE_PROFILE_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{user:t.payload.user,isLoading:!1,isProfileLoaded:!0});case"app/auth/SIGNIN_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{accessToken:t.payload.accessToken,isLoading:!1});case y:return Object(x.a)(Object(x.a)({},e),{},{accessToken:null,user:null});case"app/auth/LOAD_PROFILE_FAILURE":case"app/auth/UPDATE_PROFILE_FAILURE":return Object(x.a)(Object(x.a)({},e),{},{user:null,isLoading:!1,isProfileLoaded:!0});case"app/auth/SIGNIN_FAILURE":return Object(x.a)(Object(x.a)({},e),{},{accessToken:null,isLoading:!1,error:t.payload.error});default:return e}},L={darkMode:!1,drawerOpen:!0,flashMessage:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/ui/TOGGLE_DARK_MODE":return Object(x.a)(Object(x.a)({},e),{},{darkMode:!e.darkMode});case"app/ui/TOGGLE_DRAWER":return Object(x.a)(Object(x.a)({},e),{},{drawerOpen:!e.drawerOpen});case"app/ui/SET_DARK_MODE":return Object(x.a)(Object(x.a)({},e),{},{darkMode:t.payload.darkMode});case"app/ui/SET_FLASH_MESSAGE":return Object(x.a)(Object(x.a)({},e),{},{flashMessage:t.payload.message});case"app/ui/CLEAR_FLASH_MESSAGE":return Object(x.a)(Object(x.a)({},e),{},{flashMessage:null});default:return e}};function R(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/articles/LOAD_ARTICLES_REQUEST"}),t.prev=1,t.next=4,b.get("/articles".concat(e));case 4:n=t.sent,r=n.data.articles,a({type:"app/articles/LOAD_ARTICLES_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"app/articles/LOAD_ARTICLES_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function k(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/articles/LOAD_ARTICLE_REQUEST"}),t.prev=1,t.next=4,b.get("/articles/".concat(e));case 4:n=t.sent,r=n.data.article,a({type:"app/articles/LOAD_ARTICLE_SUCCESS",payload:{article:r}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"app/articles/LOAD_ARTICLE_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}var _={isLoading:!1,items:[],paging:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/articles/LOAD_ARTICLES_REQUEST":case"app/articles/LOAD_ARTICLE_REQUEST":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,items:[]});case"app/articles/LOAD_ARTICLES_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1},t.payload);case"app/articles/LOAD_ARTICLE_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:[t.payload.article]});case"app/articles/DELETE_ARTICLE_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:e.items.filter((function(e){return e.id!==t.payload.id}))});case"app/articles/LOAD_ARTICLES_FAILURE":case"app/articles/LOAD_ARTICLE_FAILURE":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:[],paging:null});default:return e}};function U(){return function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"app/categories/LOAD_CATEGORIES_REQUEST"}),e.prev=1,e.next=4,b.get("/categories");case 4:a=e.sent,n=a.data.categories,t({type:"app/categories/LOAD_CATEGORIES_SUCCESS",payload:{categories:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"app/categories/LOAD_CATEGORIES_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}function D(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/categories/LOAD_CATEGORY_REQUEST"}),t.prev=1,t.next=4,b.get("/categories/".concat(e));case 4:n=t.sent,r=n.data.category,a({type:"app/categories/LOAD_CATEGORY_SUCCESS",payload:{category:r}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"app/categories/LOAD_CATEGORY_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}var N={isLoading:!1,items:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/categories/LOAD_CATEGORIES_REQUEST":case"app/categories/LOAD_CATEGORY_REQUEST":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,items:[]});case"app/categories/LOAD_CATEGORIES_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:t.payload.categories||[]});case"app/categories/LOAD_CATEGORY_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:[t.payload.category]});case"app/categories/DELETE_CATEGORY_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:e.items.filter((function(e){return e.id!==t.payload.id}))});case"app/categories/LOAD_CATEGORIES_FAILURE":case"app/categories/LOAD_CATEGORY_FAILURE":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:[],paging:null});default:return e}};function F(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/users/LOAD_USER_REQUEST"}),t.prev=1,t.next=4,b.get("/users/".concat(e));case 4:n=t.sent,r=n.data.user,a({type:"app/users/LOAD_USER_SUCCESS",payload:{user:r}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"app/users/LOAD_USER_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}var B={isLoading:!1,items:[],paging:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/users/LOAD_USERS_REQUEST":case"app/users/LOAD_USER_REQUEST":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,items:[]});case"app/users/LOAD_USERS_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1},t.payload);case"app/users/LOAD_USER_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:[t.payload.user]});case"app/users/DELETE_USER_SUCCESS":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:e.items.filter((function(e){return e.id!==t.payload.id}))});case"app/users/LOAD_USERS_FAILURE":case"app/users/LOAD_USER_FAILURE":return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,items:[],paging:null});default:return e}},W=Object(u.a)();var M=function(e){var t,a=[p.a,Object(d.a)(W),C];return Object(s.createStore)((t=W,Object(s.combineReducers)({router:Object(o.b)(t),auth:w,ui:T,articles:I,categories:P,users:G})),e,Object(m.composeWithDevTools)(s.applyMiddleware.apply(void 0,a)))},Q=a(25),q=a(32),V=a(10),Z=a(505),Y=a(63),K=a(144),z=a(552),H=a(500),J=a(507),X=a(458),$=a(459),ee=a(468),te=a(510),ae=a(511),ne=a(553),re=a(498),ce=a(506),le=a(67),ie=a.n(le),oe=a(501),se=a(502),ue=a(503),me=a(504),de=a(559),pe=a(560),Ee=Object(re.a)((function(e){return{media:{height:200},category:{margin:e.spacing(2,0)}}}));function be(e){var t=e.id,a=e.title,n=e.excerpt,c=e.image,l=e.category,i=e.user,o=Ee(),s=Object(Q.g)(),u=Object(Q.j)().path;return r.a.createElement(H.a,{item:!0,xs:12,sm:6,lg:4,"data-testid":"article-item"},r.a.createElement(oe.a,{onClick:function(){return s.push("".concat(u,"/").concat(t))}},r.a.createElement(se.a,null,r.a.createElement(ue.a,{image:c,title:a,className:o.media,"data-testid":"article-item-image"}),r.a.createElement(me.a,null,r.a.createElement(Y.a,{gutterBottom:!0,variant:"h5",component:"h2","data-testid":"article-item-title"},a),r.a.createElement(H.a,{container:!0,alignItems:"center",justify:"space-between",className:o.category},r.a.createElement(de.a,{label:l.name,size:"small","data-testid":"article-item-category-name"})),r.a.createElement(Y.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",component:"p","data-testid":"article-item-excerpt"},n),r.a.createElement(z.a,{display:"flex",alignItems:"center",mt:2},r.a.createElement(pe.a,{alt:i.name,src:i.avatar,imgProps:{"data-testid":"article-item-user-avatar"}}),r.a.createElement(z.a,{ml:2,"data-testid":"article-item-user-name"},i.name))))))}var fe=Object(re.a)((function(e){return{title:{textAlign:"center",marginBottom:e.spacing(2)},progress:{textAlign:"center"},category:{minWidth:120}}}));function ge(){var e=fe(),t=Object(Q.g)(),a=Object(Q.j)().path,c=Object(i.d)(),l=Object(i.e)((function(e){return e.articles})),o=l.isLoading,s=l.items,u=l.paging,m=Object(i.e)((function(e){return e.categories})).items,d=Object(Q.h)().search,p=Object(n.useState)(ie.a.parse(d)),E=Object(V.a)(p,2),b=E[0],f=E[1],g=Object(n.useState)(b.term||""),h=Object(V.a)(g,2),v=h[0],O=h[1],y=Object(n.useCallback)((function(e){var t=e.target.value;if(0!==t)return f(Object(x.a)(Object(x.a)({},b),{},{categoryId:t}));b.categoryId;var a=Object(q.a)(b,["categoryId"]);f(a)}),[b]),j=Object(n.useCallback)((function(e){return O(e.target.value)}),[]),S=Object(Z.a)((function(){if(""!==v.trim())return f(Object(x.a)(Object(x.a)({},b),{},{term:v}));b.term;var e=Object(q.a)(b,["term"]);f(e)}),1e3),C=Object(V.a)(S,1)[0],A=Object(n.useCallback)((function(e,t){if(t>1)return f(Object(x.a)(Object(x.a)({},b),{},{page:t}));b.page;var a=Object(q.a)(b,["page"]);f(a)}),[b]);return Object(n.useEffect)((function(){c(R(d)),c(U())}),[c,d]),Object(n.useEffect)((function(){return t.push("".concat(a,"?").concat(ie.a.stringify(b)))}),[t,a,b]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{variant:"h4",component:"h1",className:e.title},"Articles"),r.a.createElement(K.a,null,r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,mb:2},r.a.createElement(H.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(H.a,{item:!0},r.a.createElement(ce.a,null)),r.a.createElement(H.a,{item:!0},r.a.createElement(J.a,{inputProps:{"data-testid":"articlie-list-search-input"},label:"Search",value:v,onChange:j,onKeyUp:C}))),r.a.createElement(X.a,{className:e.category},r.a.createElement($.a,null,"Category"),r.a.createElement(ee.a,{value:b.categoryId||0,onChange:y},r.a.createElement(te.a,{value:0},"All"),m.map((function(e){var t=e.id,a=e.name;return r.a.createElement(te.a,{key:t,value:t},a)})))))),o?r.a.createElement("div",{className:e.progress},r.a.createElement(ae.a,{color:"secondary"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{container:!0,spacing:2,"data-testid":"article-list"},s.map((function(e){return r.a.createElement(be,Object.assign({key:e.id},e))}))),r.a.createElement(z.a,{display:"flex",justifyContent:"center",p:2},r.a.createElement(ne.a,{count:null===u||void 0===u?void 0:u.totalPages,defaultPage:null===u||void 0===u?void 0:u.page,variant:"outlined",color:"primary",onChange:A,"data-testid":"article-list-pagination"}))))}var he=a(512),ve=Object(re.a)((function(e){return{title:{marginLeft:e.spacing(2)}}}));function Oe(){var e,t,a=ve(),c=Object(i.d)(),l=Object(Q.i)().id,o=Object(i.e)((function(e){return e.articles})),s=o.isLoading,u=Object(V.a)(o.items,1)[0];return Object(n.useEffect)((function(){c(k(l))}),[c,l]),s?null:r.a.createElement(he.a,{maxWidth:"md"},r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(pe.a,{src:null===u||void 0===u||null===(e=u.user)||void 0===e?void 0:e.avatar}),r.a.createElement("div",{className:a.title},r.a.createElement(Y.a,{variant:"h6",component:"h1"},null===u||void 0===u?void 0:u.title),r.a.createElement(Y.a,{variant:"body1"},null===u||void 0===u||null===(t=u.user)||void 0===t?void 0:t.name))),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:null===u||void 0===u?void 0:u.body}}))}var ye=function(){var e=Object(Q.j)().path;return r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"".concat(e,"/:id")},r.a.createElement(Oe,null)),r.a.createElement(Q.b,{path:e},r.a.createElement(ge,null)))},je=a(26),Se=a(16),Ce=a(37),xe=a(513),Ae=a(463),we=Object(re.a)((function(e){return{preview:{width:"100%"},placeholder:{flex:1,backgroundColor:e.palette.grey[600]},input:{display:"none"},button:{width:"100%",marginTop:e.spacing(2)}}}));var Le=function(e){var t,a=e.name,c=e.image,l=e.alt,i=e.buttonText,o=e.innerRef,s=we(),u=Object(n.useRef)(null),m=Object(n.useCallback)((function(e){var t,a=e.target;if(null===a||void 0===a||null===(t=a.files)||void 0===t?void 0:t[0]){var n=new FileReader;n.onload=function(e){return u.current.src=e.target.result},n.readAsDataURL(a.files[0])}}),[]);return r.a.createElement(z.a,{display:"flex",flexDirection:"column",height:"100%"},r.a.createElement("img",{src:c,alt:l,ref:u,className:s.preview,"data-testid":"preview-image"}),!(null===(t=u.current)||void 0===t?void 0:t.src)&&r.a.createElement("div",{className:s.placeholder}),r.a.createElement("input",{name:a,ref:o,accept:"image/*",className:s.input,id:"uploader",type:"file",onChange:m,"data-testid":"upload-input"}),r.a.createElement("label",{htmlFor:"uploader"},r.a.createElement(Ae.a,{variant:"contained",color:"primary",component:"span",className:s.button},i)))},Te=Object(re.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto"}}}));function Re(){var e,t,a,c=Te(),l=Object(i.d)(),o=Object(i.e)((function(e){return e.auth})),s=o.user,u=o.isLoading,m=Object(je.d)({mode:"onChange",resolver:Object(Ce.a)(Se.c().shape({name:Se.d(),email:Se.d().email().required(),password:Se.d().min(8).transform((function(e){return""===e?void 0:e}))}))}),d=m.register,p=m.handleSubmit,E=m.setValue,f=m.errors,g=m.formState,O=g.isDirty,y=g.isValid,j=Object(n.useCallback)((function(e){var t={};e.name!==s.name&&(t.name=e.name),e.email!==s.email&&(t.email=e.email),e.password&&(t.password=e.password),1===e.avatar.length&&(t.avatar=e.avatar[0]),l(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in a({type:"app/auth/UPDATE_PROFILE_REQUEST"}),t.prev=1,n=new FormData,e)n.append(r,e[r]);return t.next=6,b.patch("/auth/profile",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:c=t.sent,l=c.data.user,a({type:"app/auth/UPDATE_PROFILE_SUCCESS",payload:{user:l}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"app/auth/UPDATE_PROFILE_FAILURE"});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[l,s]);return Object(n.useEffect)((function(){s&&(E("name",s.name),E("email",s.email))}),[E,s]),r.a.createElement(he.a,{maxWidth:"sm"},u&&r.a.createElement(xe.a,null),r.a.createElement(K.a,{className:c.root},r.a.createElement(Y.a,{variant:"h4",align:"center",component:"h1",className:c.title},"Profile"),r.a.createElement("form",{onSubmit:p(j)},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(Le,{name:"avatar",innerRef:d,image:null===s||void 0===s?void 0:s.avatar,alt:null===s||void 0===s?void 0:s.name,buttonText:"Change Avatar"})),r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement("div",{className:c.form},r.a.createElement(J.a,{inputRef:d,variant:"outlined",label:"Name",placeholder:"Enter your name",name:"name",fullWidth:!0,helperText:(null===(e=f.name)||void 0===e?void 0:e.message)||"",error:Boolean(f.name)}),r.a.createElement(J.a,{inputRef:d,variant:"outlined",label:"Email",placeholder:"Enter your email",name:"email",fullWidth:!0,helperText:(null===(t=f.email)||void 0===t?void 0:t.message)||"",error:Boolean(f.email)}),r.a.createElement(J.a,{type:"password",inputRef:d,variant:"outlined",label:"Password",placeholder:"Enter your password",name:"password",fullWidth:!0,helperText:(null===(a=f.password)||void 0===a?void 0:a.message)||"",error:Boolean(f.password)}),r.a.createElement(Ae.a,{type:"submit",variant:"contained",color:"primary",className:c.submitBtn,disabled:!y||!O},"Update")))))))}var ke=a(12),_e=Object(re.a)((function(e){return{root:{padding:e.spacing(2)},form:{"& > *":{marginTop:e.spacing(2)}}}}));function Ie(e){var t,a,n=e.title,c=e.submitText,l=e.onSubmit,i=e.altLink,o=e.altText,s=_e(),u=Object(je.d)({mode:"onChange",resolver:Object(Ce.a)(Se.c().shape({email:Se.d().email().required(),password:Se.d().min(8).required()}))}),m=u.register,d=u.handleSubmit,p=u.errors,E=u.formState,b=E.isDirty,f=E.isValid;return r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(K.a,{className:s.root},r.a.createElement(Y.a,{variant:"h4",component:"h1"},r.a.createElement(z.a,{textAlign:"center"},n)),r.a.createElement("form",{onSubmit:d(l),className:s.form},r.a.createElement(J.a,{inputRef:m,variant:"outlined",label:"Email",placeholder:"Enter your email",name:"email",inputProps:{"data-testid":"auth-form-email"},fullWidth:!0,helperText:r.a.createElement("span",{"data-testid":"auth-email-helper"},(null===(t=p.email)||void 0===t?void 0:t.message)||""),error:Boolean(p.email)}),r.a.createElement(J.a,{type:"password",inputRef:m,variant:"outlined",label:"Password",placeholder:"Enter your password",name:"password",inputProps:{"data-testid":"auth-form-password"},fullWidth:!0,helperText:r.a.createElement("span",{"data-testid":"auth-password-helper"},(null===(a=p.password)||void 0===a?void 0:a.message)||""),error:Boolean(p.password)}),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(Ae.a,{type:"submit",variant:"contained",color:"primary",disabled:!f||!b,"data-testid":"auth-form-submit-button"},c),r.a.createElement(Ae.a,{component:ke.a,to:i,"data-testid":"auth-form-alt-button"},o)))))}function Ue(){var e=Object(i.d)();return r.a.createElement(Ie,{title:"Sign in",submitText:"sign in",altText:"Don't have an account?",altLink:"/auth/sign-up",onSubmit:function(t){return e(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/auth/SIGNIN_REQUEST"}),t.prev=1,t.next=4,b.post("/auth/sign-in",e);case 4:n=t.sent,r=n.data.token,a({type:"app/auth/SIGNIN_SUCCESS",payload:{accessToken:r}}),j(r),S(r),a(O("Welcome back!")),a(Object(f.d)("/")),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(1),c=t.t0.response.data.error,a(O(c)),a({type:"app/auth/SIGNIN_FAILURE",payload:{error:c}});case 18:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))}})}function De(){var e=Object(i.d)();return r.a.createElement(Ie,{title:"Sign up",submitText:"Register",altText:"Already have an account?",altLink:"/auth/sign-in",onSubmit:function(t){return e(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/auth/SIGNUP_REQUEST"}),t.prev=1,t.next=4,b.post("/auth/sign-up",e);case 4:a({type:"app/auth/SIGNUP_SUCCESS"}),a(O("Your account has been created.")),a(Object(f.d)("/")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),n=t.t0.response.data.error,a(O(n)),a({type:"app/auth/SIGNUP_FAILURE",payload:{error:n}});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))}})}function Ne(){var e=Object(Q.j)().path;return r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"".concat(e,"/profile")},r.a.createElement(Re,null)),r.a.createElement(Q.b,{path:"".concat(e,"/sign-in")},r.a.createElement(Ue,null)),r.a.createElement(Q.b,{path:"".concat(e,"/sign-up")},r.a.createElement(De,null)))}var Pe=a(515),Fe=a(517),Be=a(514),Ge=a(518),We=a(516);function Me(e){var t=e.className,a=e.children,c=Object(i.d)(),l=Object(Be.a)("(prefers-color-scheme: dark)"),o=Object(i.e)((function(e){return e.ui.darkMode}));Object(n.useEffect)((function(){var e=function(e){return{type:"app/ui/SET_DARK_MODE",payload:{darkMode:e}}}(l);c(e)}),[l,c]);var s=Object(Pe.a)({palette:{type:o?"dark":"light",primary:{main:"#1abc9c"},secondary:{main:We.a[500]}}});return r.a.createElement(Fe.a,{theme:s},r.a.createElement(Ge.a,null),r.a.createElement("div",{className:t},a))}var Qe=a(522),qe=a(523),Ve=a(524),Ze=a(115),Ye=a.n(Ze),Ke=a(464),ze=a(519),He=a(520);function Je(){var e=Object(i.d)(),t=Object(i.e)((function(e){return e.ui.darkMode}));return r.a.createElement(Ke.a,{onClick:function(){return e({type:"app/ui/TOGGLE_DARK_MODE"})}},t?r.a.createElement(ze.a,null):r.a.createElement(He.a,null))}var Xe=a(204),$e=a(521),et=Object(re.a)((function(e){return{root:{cursor:"pointer"},username:{marginLeft:e.spacing(1)}}}));function tt(){var e=et(),t=Object(Q.g)(),a=Object(i.d)(),c=Object(i.e)((function(e){return e.auth})),l=c.isLoading,o=c.accessToken,s=c.user,u=Object(n.useState)(null),m=Object(V.a)(u,2),d=m[0],p=m[1],E=Object(n.useCallback)((function(e){return p(e.currentTarget)}),[]),f=Object(n.useCallback)((function(){return p(null)}),[]),g=Object(n.useCallback)((function(){a((function(e){j(null),S(null),e(O("Bye!")),e({type:y})})),f()}),[f,a]),C=Object(n.useCallback)((function(){t.push("/auth/profile"),f()}),[f,t]),x=function(){return r.a.createElement(z.a,{display:"flex",alignItems:"center",className:e.root},r.a.createElement($e.a,{variant:"circle",width:40,height:40}),r.a.createElement($e.a,{variant:"text",width:100,height:30,className:e.username}))};return Object(n.useEffect)((function(){a(function(){var e=localStorage.getItem("accessToken");return S(e),{type:"app/auth/LOAD_TOKEN",payload:{token:e}}}())}),[a]),Object(n.useEffect)((function(){a(o?function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"app/auth/LOAD_PROFILE_REQUEST"}),e.prev=1,e.next=4,b.get("/auth/profile");case 4:a=e.sent,n=a.data.user,t({type:"app/auth/LOAD_PROFILE_SUCCESS",payload:{user:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"app/auth/LOAD_PROFILE_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}():{type:"app/auth/LOAD_PROFILE_SUCCESS",payload:{user:null}})}),[a,o]),l?r.a.createElement(x,null):s?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{"data-testid":"auth-menu",display:"flex",alignItems:"center",className:e.root,onClick:E},r.a.createElement(pe.a,{imgProps:{"data-testid":"auth-profile-avatar"},src:s.avatar}),r.a.createElement(Y.a,{variant:"button",className:e.username,"data-testid":"auth-profile-name"},s.name||"Member")),r.a.createElement(Xe.a,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:f},r.a.createElement(te.a,{"data-testid":"auth-menu-profile",onClick:C},"Profile"),r.a.createElement(te.a,{"data-testid":"auth-menu-logout",onClick:g},"Logout"))):o?r.a.createElement(x,null):r.a.createElement("div",null,r.a.createElement(Ae.a,{color:"inherit",component:ke.a,to:"/auth/sign-in","data-testid":"auth-menu-login-button"},"Login"))}var at=Object(re.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer},logoLink:{marginRight:e.spacing(2)},logoImage:{widht:30,height:30,backgroundColor:"#fff",borderRadius:"50%"},activeLink:{color:e.palette.secondary.main},spacer:{flexGrow:1}}}));function nt(){var e=at(),t=Object(i.e)((function(e){return e.auth.user}));return r.a.createElement(Qe.a,{position:"fixed",className:e.appBar},r.a.createElement(qe.a,null,r.a.createElement(Ve.a,{component:ke.b,to:"/",color:"inherit",underline:"none",className:e.logoLink},r.a.createElement("img",{src:Ye.a,alt:"Babel Articles",className:e.logoImage})),1===(null===t||void 0===t?void 0:t.role)&&r.a.createElement(Ae.a,{component:ke.b,to:"/admin"},"Admin"),r.a.createElement(Ae.a,{component:ke.b,to:"/articles",activeClassName:e.activeLink},"Articles"),r.a.createElement("div",{className:e.spacer}),r.a.createElement(Je,null),r.a.createElement(tt,null)))}var rt=a(557),ct=Object(re.a)((function(e){return{content:{padding:e.spacing(2,0)}}}));function lt(e){var t=e.children,a=ct(),n=Object(i.d)(),c=Object(i.e)((function(e){return e.ui.flashMessage}));return r.a.createElement("main",{className:a.content},r.a.createElement(he.a,{maxWidth:"lg"},r.a.createElement(qe.a,null),t,c&&r.a.createElement(rt.a,{open:!0,message:r.a.createElement("div",{"data-testid":"flash-message"},c),action:r.a.createElement(Ae.a,{color:"inherit",size:"small",onClick:function(){return n({type:"app/ui/CLEAR_FLASH_MESSAGE"})}},"Close")})))}function it(e){var t=e.children;return r.a.createElement(Me,null,r.a.createElement(nt,null),r.a.createElement(lt,null,t))}function ot(){return r.a.createElement(it,null,r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"/auth"},r.a.createElement(Ne,null)),r.a.createElement(Q.b,{path:"/articles"},r.a.createElement(ye,null)),r.a.createElement(Q.b,{exact:!0,path:"/"},r.a.createElement(Q.a,{to:"/articles"})),r.a.createElement(Q.b,null,r.a.createElement("div",null,"Page not found"))))}var st=a(525),ut=Object(re.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2)},logoLink:{marginRight:e.spacing(2)},logoImage:{widht:30,height:30,backgroundColor:"#fff",borderRadius:"50%"},spacer:{flexGrow:1}}}));function mt(){var e=ut(),t=Object(Q.j)().path,a=Object(i.d)();return r.a.createElement(Qe.a,{position:"fixed",className:e.appBar},r.a.createElement(qe.a,null,r.a.createElement(Ke.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){return a({type:"app/ui/TOGGLE_DRAWER"})},className:e.menuButton},r.a.createElement(st.a,null)),r.a.createElement(Ve.a,{component:ke.a,to:"/",color:"inherit",underline:"none",className:e.logoLink},r.a.createElement("img",{src:Ye.a,alt:"Babel Articles",className:e.logoImage})),r.a.createElement(Ae.a,{component:ke.a,to:t},"Admin"),r.a.createElement("div",{className:e.spacer}),r.a.createElement(Je,null),r.a.createElement(tt,null)))}var dt=a(19),pt=a(3),Et=a(561),bt=a(509),ft=a(462),gt=a(526),ht=a(528),vt=a(527),Ot=a(529),yt=a(530),jt=a(531),St=Object(re.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerExpand:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerCollapse:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function Ct(){var e,t,a=St(),n=Object(Q.j)().path,c=Object(Q.h)().pathname,l=Object(i.e)((function(e){return e.ui.drawerOpen})),o=Object(Be.a)((function(e){return e.breakpoints.up("md")}));return r.a.createElement(Et.a,{variant:"persistent",open:l,className:Object(pt.a)(a.drawer,(e={},Object(dt.a)(e,a.drawerExpand,o),Object(dt.a)(e,a.drawerCollapse,!o),e)),classes:{paper:Object(pt.a)((t={},Object(dt.a)(t,a.drawerExpand,o),Object(dt.a)(t,a.drawerCollapse,!o),t))}},r.a.createElement(qe.a,null),r.a.createElement("div",{className:a.drawerContainer,"data-testid":"admin-links"},r.a.createElement(bt.a,null,r.a.createElement(ft.a,{button:!0,component:ke.a,to:"".concat(n,"/dashboard"),selected:c.startsWith("".concat(n,"/dashboard"))},r.a.createElement(gt.a,null,r.a.createElement(vt.a,null)),r.a.createElement(ht.a,{primary:"Dashboard"})),r.a.createElement(ft.a,{button:!0,component:ke.a,to:"".concat(n,"/users"),selected:c.startsWith("".concat(n,"/users"))},r.a.createElement(gt.a,null,r.a.createElement(Ot.a,null)),r.a.createElement(ht.a,{primary:"Users"})),r.a.createElement(ft.a,{button:!0,component:ke.a,to:"".concat(n,"/categories"),selected:c.startsWith("".concat(n,"/categories"))},r.a.createElement(gt.a,null,r.a.createElement(yt.a,null)),r.a.createElement(ht.a,{primary:"Categories"})),r.a.createElement(ft.a,{button:!0,component:ke.a,to:"".concat(n,"/articles"),selected:c.startsWith("".concat(n,"/articles"))},r.a.createElement(gt.a,null,r.a.createElement(jt.a,null)),r.a.createElement(ht.a,{primary:"Articles"})))))}var xt=a(558),At=Object(re.a)((function(e){return{content:Object(dt.a)({flexGrow:1,padding:e.spacing(2),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-(e.spacing(7)+1)},e.breakpoints.up("md"),{marginLeft:-240}),contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},breadcrumb:{margin:e.spacing(2,0)}}})),wt={"/admin":"Admin","/admin/dashboard":"Dashboard","/admin/users":"Users","/admin/users/new":"New User","/admin/users/\\d+":"User","/admin/users/\\d+/edit":"Edit User","/admin/categories":"Categories","/admin/categories/new":"New Category","/admin/categories/\\d+":"Category","/admin/categories/\\d+/edit":"Edit Category","/admin/articles":"Articles","/admin/articles/new":"New Article","/admin/articles/\\d+":"Article","/admin/articles/\\d+/edit":"Edit Article"},Lt=function(e){return r.a.createElement(Ve.a,Object.assign({},e,{component:ke.a}))};function Tt(e){var t=e.children,a=Object(Q.h)().pathname.split("/").filter((function(e){return e})),n=At(),c=Object(i.e)((function(e){return e.ui.drawerOpen}));return r.a.createElement("main",{className:Object(pt.a)(n.content,Object(dt.a)({},n.contentShift,c))},r.a.createElement(qe.a,null),r.a.createElement(xt.a,{"aria-label":"breadcrumb",className:n.breadcrumb},a.map((function(e,t){var n=t===a.length-1,c="/".concat(a.slice(0,t+1).join("/")),l=Object.entries(wt).find((function(e){var t=Object(V.a)(e,1)[0];return new RegExp("^".concat(t,"$")).test(c)})),i=Object(V.a)(l,2)[1];return n?r.a.createElement(Y.a,{color:"textPrimary",key:c},i):r.a.createElement(Lt,{color:"inherit",to:c,key:c},i)}))),t)}var Rt=Object(re.a)((function(e){return{root:{display:"flex"}}}));function kt(e){var t=e.children,a=Rt();return r.a.createElement(Me,{className:a.root},r.a.createElement(mt,null),r.a.createElement(Ct,null),r.a.createElement(Tt,null,t))}var _t=a(532),It=a(533),Ut=a(534),Dt=a(535),Nt=a(536),Pt=a(539),Ft=a(540),Bt=a(541),Gt=a(542),Wt=a(543),Mt=a(544),Qt=a(555),qt=a(545),Vt=a(556),Zt=a(537),Yt=a(538),Kt=Object(re.a)((function(e){return{spacer:{margin:e.spacing(2,0)},delete:{color:e.palette.error.main,borderColor:e.palette.error.main,height:"max-content"}}}));function zt(){var e=Kt(),t=Object(Q.j)().path,a=Object(n.useState)({page:1,limit:12}),c=Object(V.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(0),u=Object(V.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!1),E=Object(V.a)(p,2),f=E[0],g=E[1],O=Object(n.useState)(l.term||""),y=Object(V.a)(O,2),j=y[0],S=y[1],C=Object(i.d)(),A=Object(i.e)((function(e){return e.articles})),w=A.items,L=A.paging,T=Object(n.useCallback)((function(e){return S(e.target.value)}),[]),k=Object(Z.a)((function(){if(""!==j.trim())return o(Object(x.a)(Object(x.a)({},l),{},{term:j}));l.term;var e=Object(q.a)(l,["term"]);o(e)}),1e3),_=Object(V.a)(k,1)[0],I=Object(n.useCallback)((function(e,t){return o(Object(x.a)(Object(x.a)({},l),{},{page:t+1}))}),[l]),U=Object(n.useCallback)((function(e){o(Object(x.a)(Object(x.a)({},l),{},{page:1,limit:parseInt(e.target.value)}))}),[l]),D=Object(n.useCallback)((function(e){return function(){return d(m===e?0:e)}}),[m]),N=Object(n.useCallback)((function(){var e;C((e=m,function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/articles/DELETE_ARTICLE_REQUEST"}),t.prev=1,t.next=4,b.delete("/articles/".concat(e));case 4:a({type:"app/articles/DELETE_ARTICLE_SUCCESS",payload:{id:e}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"app/articles/DELETE_ARTICLE_FAILURE"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}())),g(!1)}),[C,m]);return Object(n.useEffect)((function(){C(R("?"+ie.a.stringify(l)))}),[C,l]),r.a.createElement("div",null,f&&r.a.createElement(_t.a,{open:f,onClose:function(){return g(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(It.a,null,"Are you sure?"),r.a.createElement(Ut.a,null,r.a.createElement(Dt.a,null,"Are you sure you want to delete this article?")),r.a.createElement(Nt.a,null,r.a.createElement(Ae.a,{onClick:function(){return g(!1)},color:"primary"},"Cancel"),r.a.createElement(Ae.a,{onClick:N,color:"primary",autoFocus:!0},"Delete"))),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(Y.a,{variant:"h5",component:"h1"},"Article List"),r.a.createElement(Ae.a,{component:ke.a,to:"".concat(t,"/new"),variant:"contained",color:"primary",startIcon:r.a.createElement(Zt.a,null)},"Add new article")),r.a.createElement(K.a,{className:e.spacer},r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},r.a.createElement(H.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(H.a,{item:!0},r.a.createElement(ce.a,null)),r.a.createElement(H.a,{item:!0},r.a.createElement(J.a,{label:"Search",value:j,onChange:T,onKeyUp:_}))),r.a.createElement(Ae.a,{variant:"outlined",startIcon:r.a.createElement(Yt.a,null),className:e.delete,disabled:0===m,onClick:function(){return g(!0)}},"Delete")),r.a.createElement(Pt.a,null,r.a.createElement(Ft.a,null,r.a.createElement(Bt.a,null,r.a.createElement(Gt.a,null,r.a.createElement(Wt.a,{padding:"checkbox"}),r.a.createElement(Wt.a,null,"Image"),r.a.createElement(Wt.a,null,"Title"),r.a.createElement(Wt.a,null,"Category"),r.a.createElement(Wt.a,null,"Actions"))),r.a.createElement(Mt.a,null,w.map((function(e){var a=e.id,n=a===m;return r.a.createElement(Gt.a,{key:a,selected:n,onClick:D(a)},r.a.createElement(Wt.a,{padding:"checkbox"},r.a.createElement(Qt.a,{checked:n})),r.a.createElement(Wt.a,{component:"th",scope:"row"},r.a.createElement(pe.a,{variant:"square",src:e.image})),r.a.createElement(Wt.a,null,e.title),r.a.createElement(Wt.a,null,e.category.name),r.a.createElement(Wt.a,null,r.a.createElement(qt.a,{size:"small",variant:"text",color:"primary"},r.a.createElement(Ae.a,{component:ke.a,to:"".concat(t,"/").concat(a),underline:"none"},"View"),r.a.createElement(Ae.a,{component:ke.a,to:"".concat(t,"/").concat(a,"/edit"),underline:"none"},"Edit"))))})))),r.a.createElement(Vt.a,{rowsPerPageOptions:[12,20,50],component:"div",count:(null===L||void 0===L?void 0:L.count)||0,rowsPerPage:(null===L||void 0===L?void 0:L.limit)||12,page:(null===L||void 0===L?void 0:L.page)?L.page-1:0,onChangePage:I,onChangeRowsPerPage:U}))))}var Ht=a(201),Jt=a.n(Ht),Xt=(a(335),Object(re.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto"},toolbar:{"& .ql-toolbar":{backgroundColor:e.palette.grey[300]},"& .ql-editor":{minHeight:300},"& .ql-editor.ql-blank::before":{color:e.palette.grey[300]}},category:{width:"100%"}}})));function $t(e){var t,a,c,l=e.type,o=e.article,s=e.title,u=e.submitText,m=e.onSubmit,d=Xt(),p=Object(i.d)(),E=Object(i.e)((function(e){return e.categories})).items,b={title:Se.d().required(),excerpt:Se.d().required(),body:Se.d().required(),categoryId:Se.b().positive().required()},f=Object(je.d)({mode:"onChange",defaultValues:{title:null===o||void 0===o?void 0:o.title,excerpt:null===o||void 0===o?void 0:o.excerpt,body:null===o||void 0===o?void 0:o.body,categoryId:null===o||void 0===o||null===(t=o.category)||void 0===t?void 0:t.id},resolver:Object(Ce.a)(Se.c().shape("CREATE"===l?Object(x.a)(Object(x.a)({},b),{},{image:Se.a().test("image",(function(e){return e.length>0}))}):b))}),g=f.register,h=f.control,v=f.handleSubmit,O=f.setValue,y=f.getValues,j=f.errors,S=f.formState,C=S.isDirty,A=S.isValid,w=Object(n.useCallback)((function(e){return O("body",e,{shouldValidate:!0,shouldDirty:!0})}),[O]),L=Object(n.useCallback)((function(e){var t=e.image,a=Object(q.a)(e,["image"]);return t.length>0?m(Object(x.a)(Object(x.a)({},a),{},{image:t[0]})):m(a)}),[m]);return Object(n.useEffect)((function(){p(U()),g({name:"body"})}),[p,g]),r.a.createElement(he.a,{maxWidth:"md"},r.a.createElement(K.a,{className:d.root},r.a.createElement(Y.a,{variant:"h4",align:"center",component:"h1",className:d.title},s),r.a.createElement("form",{onSubmit:v(L)},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(Le,{name:"image",innerRef:g,image:null===o||void 0===o?void 0:o.image,buttonText:"Change Image"})),r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement("div",{className:d.form},r.a.createElement(J.a,{inputRef:g,variant:"outlined",label:"Title",placeholder:"Enter a title",name:"title",fullWidth:!0,helperText:(null===(a=j.title)||void 0===a?void 0:a.message)||"",error:Boolean(j.title)}),r.a.createElement(J.a,{inputRef:g,variant:"outlined",label:"Excerpt",placeholder:"Enter a excerpt",name:"excerpt",fullWidth:!0,multiline:!0,rows:3,helperText:(null===(c=j.excerpt)||void 0===c?void 0:c.message)||"",error:Boolean(j.excerpt)}),r.a.createElement(X.a,{variant:"outlined",className:d.category},r.a.createElement($.a,null,"Category"),r.a.createElement(je.a,{as:ee.a,name:"categoryId",label:"Category",control:h,defaultValue:""},E.map((function(e){var t=e.id,a=e.name;return r.a.createElement(te.a,{key:t,value:t},a)}))))))),r.a.createElement(z.a,{my:2,className:d.toolbar},r.a.createElement(Jt.a,{theme:"snow",placeholder:"Enter body here...",value:y("body"),onChange:w})),r.a.createElement(Ae.a,{type:"submit",variant:"contained",color:"primary",className:d.submitBtn,disabled:!A||!C},u))))}function ea(){var e=Object(i.d)(),t=Object(n.useCallback)((function(t){return e(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in a({type:"app/articles/CREATE_ARTICLE_REQUEST"}),t.prev=1,n=new FormData,e)n.append(r,e[r]);return t.next=6,b.post("/articles",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:a({type:"app/articles/CREATE_ARTICLE_SUCCESS"}),a(Object(f.d)("/admin/articles")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"app/articles/CREATE_ARTICLE_FAILURE"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e]);return r.a.createElement($t,{type:"CREATE",title:"New Article",submitText:"Create",onSubmit:t})}function ta(){var e=Object(i.d)(),t=Object(Q.i)().id,a=Object(i.e)((function(e){return e.articles})),c=a.isLoading,l=Object(V.a)(a.items,1)[0],o=Object(n.useCallback)((function(a){return e(function(e,t){return function(){var a=Object(v.a)(h.a.mark((function a(n){var r,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(c in n({type:"app/articles/UPDATE_ARTICLE_REQUEST"}),a.prev=1,r=new FormData,t)r.append(c,t[c]);return a.next=6,b.patch("/articles/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}});case 6:n({type:"app/articles/UPDATE_ARTICLE_SUCCESS"}),n(Object(f.d)("/admin/articles/".concat(e))),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"app/articles/UPDATE_ARTICLE_FAILURE"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}),[e,t]);return Object(n.useEffect)((function(){e(k(t))}),[e,t]),c||!l?null:r.a.createElement($t,{type:"EDIT",article:l,title:"Update Article",submitText:"Change",onSubmit:o})}function aa(e){var t=e.children,a=e.roles,n=Object(q.a)(e,["children","roles"]),c=Object(i.d)(),l=Object(i.e)((function(e){return e.auth})),o=l.isLoading,s=l.isProfileLoaded,u=l.user;return r.a.createElement(Q.b,Object.assign({},n,{render:function(){return s?o?null:u&&a.includes(u.role)?t:(c(O("You are not allowed to access this page")),r.a.createElement(Q.a,{to:"/"})):null}}))}var na=function(){var e=Object(Q.j)().path;return r.a.createElement(Q.d,null,r.a.createElement(aa,{path:"".concat(e,"/new"),roles:[1,2]},r.a.createElement(ea,null)),r.a.createElement(aa,{path:"".concat(e,"/:id/edit"),roles:[1,2]},r.a.createElement(ta,null)),r.a.createElement(aa,{path:"".concat(e,"/:id"),roles:[1,2]},r.a.createElement(Oe,null)),r.a.createElement(aa,{path:e,roles:[1,2]},r.a.createElement(zt,null)))};function ra(e){var t=e.roles,a=e.children,n=Object(i.e)((function(e){return e.auth})),r=n.isLoading,c=n.isProfileLoaded,l=n.user;return c?r?null:l&&t.includes(l.role)?a:null:null}var ca=Object(n.forwardRef)((function(e,t){var a=e.roles,n=Object(q.a)(e,["roles"]);return r.a.createElement(ra,{roles:a},r.a.createElement(ke.a,Object.assign({},n,{ref:t})))})),la=Object(re.a)((function(e){return{spacer:{margin:e.spacing(2,0)},delete:{marginLeft:"auto",color:e.palette.error.main,borderColor:e.palette.error.main,height:"max-content"}}}));function ia(){var e=la(),t=Object(Q.j)().path,a=Object(n.useState)(0),c=Object(V.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(!1),u=Object(V.a)(s,2),m=u[0],d=u[1],p=Object(i.d)(),E=Object(i.e)((function(e){return e.categories})).items,f=function(e){return function(){return o(l===e?0:e)}},g=Object(n.useCallback)((function(){var e;p((e=l,function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/categories/DELETE_CATEGORY_REQUEST"}),t.prev=1,t.next=4,b.delete("/categories/".concat(e));case 4:a({type:"app/categories/DELETE_CATEGORY_SUCCESS",payload:{id:e}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"app/categories/DELETE_CATEGORY_FAILURE"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}())),d(!1)}),[p,l]);return Object(n.useEffect)((function(){p(U())}),[p]),r.a.createElement("div",null,m&&r.a.createElement(_t.a,{open:m,onClose:function(){return d(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(It.a,null,"Are you sure?"),r.a.createElement(Ut.a,null,r.a.createElement(Dt.a,null,"Are you sure you want to delete this category?")),r.a.createElement(Nt.a,null,r.a.createElement(Ae.a,{onClick:function(){return d(!1)},color:"primary"},"Cancel"),r.a.createElement(Ae.a,{onClick:g,color:"primary",autoFocus:!0},"Delete"))),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(Y.a,{variant:"h5",component:"h1"},"Category List"),r.a.createElement(Ae.a,{component:ca,roles:[1],to:"".concat(t,"/new"),variant:"contained",color:"primary",startIcon:r.a.createElement(Zt.a,null)},"Add new category")),r.a.createElement(K.a,{className:e.spacer},r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},r.a.createElement(ra,{roles:[1]},r.a.createElement(Ae.a,{variant:"outlined",startIcon:r.a.createElement(Yt.a,null),className:e.delete,disabled:0===l,onClick:function(){return d(!0)}},"Delete"))),r.a.createElement(Pt.a,null,r.a.createElement(Ft.a,null,r.a.createElement(Bt.a,null,r.a.createElement(Gt.a,null,r.a.createElement(ra,{roles:[1]},r.a.createElement(Wt.a,{padding:"checkbox"})),r.a.createElement(Wt.a,null,"Name"),r.a.createElement(Wt.a,null,"Desc"),r.a.createElement(Wt.a,null,"Actions"))),r.a.createElement(Mt.a,null,E.map((function(e){var a=e.id,n=a===l;return r.a.createElement(Gt.a,{key:a,selected:n,onClick:f(a)},r.a.createElement(ra,{roles:[1]},r.a.createElement(Wt.a,{padding:"checkbox"},r.a.createElement(Qt.a,{checked:n}))),r.a.createElement(Wt.a,null,e.name),r.a.createElement(Wt.a,null,e.desc),r.a.createElement(Wt.a,null,r.a.createElement(qt.a,{size:"small",variant:"text",color:"primary"},r.a.createElement(Ae.a,{component:ke.a,to:"".concat(t,"/").concat(a),underline:"none"},"View"),r.a.createElement(Ae.a,{component:ca,roles:[1],to:"".concat(t,"/").concat(a,"/edit"),underline:"none"},"Edit"))))})))))))}var oa=Object(re.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto",marginTop:e.spacing(2)},category:{width:"100%"}}}));function sa(e){e.type;var t,a,n=e.category,c=e.title,l=e.submitText,i=e.onSubmit,o=oa(),s=Object(je.d)({mode:"onChange",defaultValues:{name:null===n||void 0===n?void 0:n.name,desc:null===n||void 0===n?void 0:n.desc},resolver:Object(Ce.a)(Se.c().shape({name:Se.d().required(),desc:Se.d().required()}))}),u=s.register,m=s.handleSubmit,d=s.errors,p=s.formState,E=p.isDirty,b=p.isValid;return r.a.createElement(he.a,{maxWidth:"md"},r.a.createElement(K.a,{className:o.root},r.a.createElement(Y.a,{variant:"h4",align:"center",component:"h1",className:o.title},c),r.a.createElement("form",{onSubmit:m(i)},r.a.createElement("div",{className:o.form},r.a.createElement(J.a,{inputRef:u,variant:"outlined",label:"Name",placeholder:"Enter a name",name:"name",fullWidth:!0,helperText:(null===(t=d.name)||void 0===t?void 0:t.message)||"",error:Boolean(d.name)}),r.a.createElement(J.a,{inputRef:u,variant:"outlined",label:"Description",placeholder:"Enter a description",name:"desc",fullWidth:!0,multiline:!0,rows:3,helperText:(null===(a=d.desc)||void 0===a?void 0:a.message)||"",error:Boolean(d.desc)})),r.a.createElement(Ae.a,{type:"submit",variant:"contained",color:"primary",className:o.submitBtn,disabled:!b||!E},l))))}function ua(){var e=Object(i.d)(),t=Object(n.useCallback)((function(t){return e(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/categories/CREATE_CATEGORY_REQUEST"}),t.prev=1,t.next=4,b.post("/categories",e);case 4:a({type:"app/categories/CREATE_CATEGORY_SUCCESS"}),a(Object(f.d)("/admin/categories")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"app/categories/CREATE_CATEGORY_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e]);return r.a.createElement(sa,{type:"CREATE",title:"New Category",submitText:"Create",onSubmit:t})}function ma(){var e=Object(i.d)(),t=Object(Q.i)().id,a=Object(i.e)((function(e){return e.categories})),c=a.isLoading,l=Object(V.a)(a.items,1)[0],o=Object(n.useCallback)((function(a){return e(function(e,t){return function(){var a=Object(v.a)(h.a.mark((function a(n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"app/categories/UPDATE_CATEGORY_REQUEST"}),a.prev=1,a.next=4,b.patch("/categories/".concat(e),t);case 4:n({type:"app/categories/UPDATE_CATEGORY_SUCCESS"}),n(Object(f.d)("/admin/categories/".concat(e))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"app/categories/UPDATE_CATEGORY_FAILURE"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}),[e,t]);return Object(n.useEffect)((function(){e(D(t))}),[e,t]),c||!l?null:r.a.createElement(sa,{type:"EDIT",category:l,title:"Update Category",submitText:"Change",onSubmit:o})}function da(){var e=Object(i.d)(),t=Object(Q.i)().id,a=Object(i.e)((function(e){return e.categories})),c=a.isLoading,l=Object(V.a)(a.items,1)[0];return Object(n.useEffect)((function(){e(D(t))}),[e,t]),c?null:r.a.createElement(he.a,{maxWidth:"md"},r.a.createElement(Y.a,{variant:"h6",component:"h1"},null===l||void 0===l?void 0:l.name),r.a.createElement(Y.a,{variant:"body1"},null===l||void 0===l?void 0:l.desc))}var pa=function(){var e=Object(Q.j)().path;return r.a.createElement(Q.d,null,r.a.createElement(aa,{path:"".concat(e,"/new"),roles:[1]},r.a.createElement(ua,null)),r.a.createElement(aa,{path:"".concat(e,"/:id/edit"),roles:[1]},r.a.createElement(ma,null)),r.a.createElement(aa,{path:"".concat(e,"/:id"),roles:[1]},r.a.createElement(da,null)),r.a.createElement(aa,{path:e,roles:[0,1]},r.a.createElement(ia,null)))},Ea=1,ba=2,fa=3,ga=["","Admin","Editor","Member"],ha=Object(re.a)((function(e){return{spacer:{margin:e.spacing(2,0)},delete:{color:e.palette.error.main,borderColor:e.palette.error.main,height:"max-content"}}})),va={Admin:"primary",Editor:"secondary",Member:"default"};function Oa(){var e=ha(),t=Object(Q.j)().path,a=Object(n.useState)({page:1,limit:12}),c=Object(V.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(0),u=Object(V.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!1),E=Object(V.a)(p,2),f=E[0],g=E[1],O=Object(n.useState)(l.term||""),y=Object(V.a)(O,2),j=y[0],S=y[1],C=Object(i.d)(),A=Object(i.e)((function(e){return e.users})),w=A.items,L=A.paging,T=Object(n.useCallback)((function(e){return S(e.target.value)}),[]),R=Object(Z.a)((function(){if(""!==j.trim())return o(Object(x.a)(Object(x.a)({},l),{},{term:j}));l.term;var e=Object(q.a)(l,["term"]);o(e)}),1e3),k=Object(V.a)(R,1)[0],_=function(e){return function(){return d(m===e?0:e)}},I=Object(n.useCallback)((function(){var e;C((e=m,function(){var t=Object(v.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/users/DELETE_USER_REQUEST"}),t.prev=1,t.next=4,b.delete("/users/".concat(e));case 4:a({type:"app/users/DELETE_USER_SUCCESS",payload:{id:e}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a({type:"app/users/DELETE_USER_FAILURE"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}())),g(!1),d(0)}),[C,m]);return Object(n.useEffect)((function(){C(function(e){return function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app/users/LOAD_USERS_REQUEST"}),t.prev=1,t.next=4,b.get("/users".concat(e));case 4:n=t.sent,r=n.data.users,a({type:"app/users/LOAD_USERS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"app/users/LOAD_USERS_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}("?"+ie.a.stringify(l)))}),[C,l]),r.a.createElement("div",null,f&&r.a.createElement(_t.a,{open:f,onClose:function(){return g(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(It.a,null,"Are you sure?"),r.a.createElement(Ut.a,null,r.a.createElement(Dt.a,null,"Are you sure you want to delete this user?")),r.a.createElement(Nt.a,null,r.a.createElement(Ae.a,{onClick:function(){return g(!1)},color:"primary"},"Cancel"),r.a.createElement(Ae.a,{onClick:I,color:"primary",autoFocus:!0,"data-testid":"admin-user-delete-confirmation"},"Delete"))),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(Y.a,{variant:"h5",component:"h1"},"User List")),r.a.createElement(K.a,{className:e.spacer},r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},r.a.createElement(H.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(H.a,{item:!0},r.a.createElement(ce.a,null)),r.a.createElement(H.a,{item:!0},r.a.createElement(J.a,{InputProps:{"data-testid":"admin-user-search"},label:"Search",value:j,onChange:T,onKeyUp:k}))),r.a.createElement(ra,{roles:[Ea]},r.a.createElement(Ae.a,{"data-testid":"admin-user-delete",variant:"outlined",startIcon:r.a.createElement(Yt.a,null),className:e.delete,disabled:0===m,onClick:function(){return g(!0)}},"Delete"))),r.a.createElement(Pt.a,{"data-testid":"admin-user-list"},r.a.createElement(Ft.a,null,r.a.createElement(Bt.a,null,r.a.createElement(Gt.a,{"data-testid":"admin-user-item-header"},r.a.createElement(ra,{roles:[Ea]},r.a.createElement(Wt.a,{padding:"checkbox"})),r.a.createElement(Wt.a,null,"Avatar"),r.a.createElement(Wt.a,null,"Name"),r.a.createElement(Wt.a,null,"Role"),r.a.createElement(Wt.a,null,"Actions"))),r.a.createElement(Mt.a,null,w.map((function(e){var a=e.id,n=e.role,c=e.name,l=e.avatar,i=a===m;return r.a.createElement(Gt.a,{key:a,"data-testid":"admin-user-item-at-".concat(a),selected:i,onClick:_(a)},r.a.createElement(ra,{roles:[Ea]},r.a.createElement(Wt.a,{padding:"checkbox"},r.a.createElement(Qt.a,{checked:i,inputProps:{"data-testid":"admin-user-item-checkbox"}}))),r.a.createElement(Wt.a,{component:"th",scope:"row"},r.a.createElement(pe.a,{variant:"square",src:l,"data-testid":"admin-user-avatar"})),r.a.createElement(Wt.a,{"data-testid":"admin-user-name"},c),r.a.createElement(Wt.a,null,r.a.createElement(de.a,{label:ga[n],color:va[n],size:"small","data-testid":"admin-user-role"})),r.a.createElement(Wt.a,null,r.a.createElement(qt.a,{size:"small",variant:"text",color:"primary"},r.a.createElement(Ae.a,{"data-testid":"admin-user-view",component:ca,roles:[Ea],to:"".concat(t,"/").concat(a),underline:"none"},"View"),r.a.createElement(Ae.a,{"data-testid":"admin-user-edit",component:ca,roles:[Ea],to:"".concat(t,"/").concat(a,"/edit"),underline:"none"},"Edit"))))})))),r.a.createElement(Vt.a,{rowsPerPageOptions:[12,20,50],component:"div",count:(null===L||void 0===L?void 0:L.count)||0,rowsPerPage:(null===L||void 0===L?void 0:L.limit)||12,page:(null===L||void 0===L?void 0:L.page)?L.page-1:0,onChangePage:function(e,t){return o(Object(x.a)(Object(x.a)({},l),{},{page:t+1}))},onChangeRowsPerPage:function(e){o(Object(x.a)(Object(x.a)({},l),{},{page:1,limit:parseInt(e.target.value)}))}}))))}var ya=Object(re.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto",marginTop:e.spacing(2)},role:{width:"100%"}}}));function ja(e){e.type;var t,a,c=e.user,l=e.title,i=e.submitText,o=e.onSubmit,s=ya(),u=Object(je.d)({mode:"onChange",defaultValues:{name:null===c||void 0===c?void 0:c.name,email:null===c||void 0===c?void 0:c.email,role:null===c||void 0===c?void 0:c.role},resolver:Object(Ce.a)(Se.c().shape({name:Se.d().required(),email:Se.d().email().required(),role:Se.a().oneOf([Ea,ba,fa]).required()}))}),m=u.register,d=u.control,p=u.handleSubmit,E=u.errors,b=u.formState,f=b.isDirty,g=b.isValid,h=Object(n.useCallback)((function(e){var t=e.avatar,a=Object(q.a)(e,["avatar"]);return t.length>0?o(Object(x.a)(Object(x.a)({},a),{},{avatar:t[0]})):o(a)}),[o]);return r.a.createElement(he.a,{maxWidth:"md"},r.a.createElement(K.a,{className:s.root},r.a.createElement(Y.a,{variant:"h4",align:"center",component:"h1",className:s.title},l),r.a.createElement("form",{onSubmit:p(h)},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(Le,{name:"avatar",innerRef:m,image:null===c||void 0===c?void 0:c.avatar,buttonText:"Change Avatar"})),r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement("div",{className:s.form},r.a.createElement(J.a,{InputProps:{"data-testid":"admin-user-name"},inputRef:m,variant:"outlined",label:"Name",placeholder:"Enter a name",name:"name",fullWidth:!0,helperText:(null===(t=E.name)||void 0===t?void 0:t.message)||"",error:Boolean(E.name)}),r.a.createElement(J.a,{type:"email",InputProps:{"data-testid":"admin-user-email"},inputRef:m,variant:"outlined",label:"Email",placeholder:"Enter a email",name:"email",fullWidth:!0,helperText:(null===(a=E.email)||void 0===a?void 0:a.message)||"",error:Boolean(E.email)}),r.a.createElement(X.a,{variant:"outlined",className:s.role},r.a.createElement($.a,null,"Role"),r.a.createElement(je.a,{as:ee.a,name:"role",label:"Role",control:d,innerRef:m,"data-testid":"admin-user-role-selector",inputProps:{"data-testid":"admin-user-role"}},r.a.createElement(te.a,{value:Ea,"data-testid":"admin-user-role-1"},"Admin"),r.a.createElement(te.a,{value:ba,"data-testid":"admin-user-role-2"},"Editor"),r.a.createElement(te.a,{value:fa,"data-testid":"admin-user-role-3"},"Member")))))),r.a.createElement(Ae.a,{type:"submit","data-testid":"admin-user-submit",variant:"contained",color:"primary",className:s.submitBtn,disabled:!g||!f},i))))}function Sa(){var e=Object(i.d)(),t=Object(Q.i)().id,a=Object(i.e)((function(e){return e.users})),c=a.isLoading,l=Object(V.a)(a.items,1)[0],o=Object(n.useCallback)((function(a){return e(function(e,t){return function(){var a=Object(v.a)(h.a.mark((function a(n){var r,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(c in n({type:"app/users/UPDATE_USER_REQUEST"}),a.prev=1,r=new FormData,t)r.append(c,t[c]);return a.next=6,b.patch("/users/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}});case 6:n({type:"app/users/UPDATE_USER_SUCCESS"}),n(Object(f.d)("/admin/users/".concat(e))),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"app/users/UPDATE_USER_FAILURE"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}),[e,t]);return Object(n.useEffect)((function(){e(F(t))}),[e,t]),c||!l?null:r.a.createElement(ja,{type:"EDIT",user:l,title:"Update User",submitText:"Change",onSubmit:o})}var Ca=Object(re.a)((function(e){return{title:{marginLeft:e.spacing(2)},role:{marginLeft:e.spacing(2)}}}));function xa(){var e=Ca(),t=Object(i.d)(),a=Object(Q.i)().id,c=Object(i.e)((function(e){return e.users})),l=c.isLoading,o=Object(V.a)(c.items,1)[0];return Object(n.useEffect)((function(){t(F(a))}),[t,a]),l?null:r.a.createElement(he.a,{maxWidth:"md"},r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(pe.a,{src:null===o||void 0===o?void 0:o.avatar,imgProps:{"data-testid":"admin-user-avatar"}}),r.a.createElement("div",{className:e.title},r.a.createElement(Y.a,{variant:"h6",component:"h1","data-testid":"admin-user-name"},null===o||void 0===o?void 0:o.name),r.a.createElement(z.a,{display:"flex"},r.a.createElement(Y.a,{variant:"body1","data-testid":"admin-user-email"},null===o||void 0===o?void 0:o.email),r.a.createElement(de.a,{"data-testid":"admin-user-role",label:ga[null===o||void 0===o?void 0:o.role],size:"small",className:e.role})))))}var Aa=function(){var e=Object(Q.j)().path;return r.a.createElement(Q.d,null,r.a.createElement(aa,{path:"".concat(e,"/:id/edit"),roles:[1]},r.a.createElement(Sa,null)),r.a.createElement(aa,{path:"".concat(e,"/:id"),roles:[1]},r.a.createElement(xa,null)),r.a.createElement(aa,{path:e,roles:[1]},r.a.createElement(Oa,null)))},wa=a(546),La=a(547),Ta=a(120),Ra=a(202),ka=Object(re.a)((function(e){return{summaryCard:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},summaryTitle:{margin:e.spacing(2,0)},chart:{"& canvas":{maxWidth:"100%"}}}}));function _a(){var e=ka(),t=Object(n.useState)(null),a=Object(V.a)(t,2),c=a[0],l=a[1],i=Object(n.useCallback)(Object(v.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/dashboard");case 2:t=e.sent,a=t.data.dashboard,l(a);case 5:case"end":return e.stop()}}),e)}))),[]);if(Object(n.useEffect)((function(){i()}),[i]),!c)return null;var o=c.usersCount[0].count+c.usersCount[1].count;return r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:12,lg:6},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:!0},r.a.createElement(K.a,{className:e.summaryCard},r.a.createElement(Ot.a,{color:"primary",fontSize:"large"}),r.a.createElement(Y.a,{variant:"body1",className:e.summaryTitle},"Users"),r.a.createElement(Y.a,{variant:"h5",color:"primary"},o))),r.a.createElement(H.a,{item:!0,xs:!0},r.a.createElement(K.a,{className:e.summaryCard},r.a.createElement(yt.a,{color:"primary",fontSize:"large"}),r.a.createElement(Y.a,{variant:"body1",className:e.summaryTitle},"Categories"),r.a.createElement(Y.a,{variant:"h5",color:"primary"},c.categoriesCount))),r.a.createElement(H.a,{item:!0,xs:!0},r.a.createElement(K.a,{className:e.summaryCard},r.a.createElement(jt.a,{color:"primary",fontSize:"large"}),r.a.createElement(Y.a,{variant:"body1",className:e.summaryTitle},"Articles"),r.a.createElement(Y.a,{variant:"h5",color:"primary"},c.articlesCount)))),r.a.createElement(K.a,null,r.a.createElement(z.a,{display:"flex",justifyContent:"center",p:2,my:2,className:e.chart},r.a.createElement(Ra.a,{options:{legend:{labels:{fontColor:Ta.a[500]}}},data:{datasets:[{data:c.usersCount.map((function(e){return e.count})),backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}],labels:c.usersCount.map((function(e){return e.role}))}})))),r.a.createElement(H.a,{item:!0,xs:12,lg:6},r.a.createElement(K.a,null,r.a.createElement(bt.a,{subheader:r.a.createElement(wa.a,null,"Latest Articles")},c.latestArticles.map((function(e){return r.a.createElement(ft.a,{key:e.id,button:!0},r.a.createElement(La.a,null,r.a.createElement(pe.a,{src:e.image})),r.a.createElement(ht.a,{primary:e.title,secondary:e.excerpt}))}))))))}var Ia=function(){var e=Object(Q.j)().path;return r.a.createElement(Q.d,null,r.a.createElement(aa,{path:e,roles:[1]},r.a.createElement(_a,null)))};function Ua(){var e=Object(Q.j)().path;return r.a.createElement(kt,null,r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"".concat(e,"/dashboard")},r.a.createElement(Ia,null)),r.a.createElement(Q.b,{path:"".concat(e,"/users")},r.a.createElement(Aa,null)),r.a.createElement(Q.b,{path:"".concat(e,"/articles")},r.a.createElement(na,null)),r.a.createElement(Q.b,{path:"".concat(e,"/categories")},r.a.createElement(pa,null)),r.a.createElement(Q.b,null,r.a.createElement(Q.a,{to:"".concat(e,"/dashboard")}))))}var Da=Object(re.a)((function(e){return{divider:{margin:e.spacing(2,0)},invisible:{visibility:"hidden"}}}));function Na(){var e=Da();return r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement("h1",{align:"center"},"jQuery Selectors"),r.a.createElement(Ae.a,{variant:"outlined",id:"outlined"},"Outlined Button (#outlined)"),r.a.createElement("div",{className:e.divider}),r.a.createElement(Ae.a,{variant:"contained",color:"primary"},"Contained Button (.MuiButton-containedPrimary)"),r.a.createElement("div",{className:e.divider}),r.a.createElement(Ae.a,{variant:"contained",type:"submit"},'Contained Button2 (button[type="submit"])'),r.a.createElement(Ae.a,{variant:"contained",id:"invisible",className:e.invisible},"Contained Button3 (#invisible)"),r.a.createElement("div",{class:"text-group"},r.a.createElement(Y.a,{variant:"h4",component:"p",className:e.divider},"H4 (.text-group:first-child)"),r.a.createElement(Y.a,{variant:"body1",component:"p",className:e.divider},"Body (.text-group:nth-child(2))"),r.a.createElement(Y.a,{variant:"subtitle1",component:"p",className:e.divider,"data-testid":"subtitle"},'Subtitle ([data-testid="subtitle"])'),r.a.createElement(Y.a,{variant:"caption",component:"p",className:e.divider},"Caption (.text-group:last-child)")))}var Pa=a(23),Fa=a(548),Ba=a(80),Ga=a.n(Ba);var Wa=function(){var e=Object(n.useState)(""),t=Object(V.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(V.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)(""),m=Object(V.a)(u,2),d=m[0],p=m[1],E=function(){return o.includes(d)?c("has already included the word"):""===d.trim()?c("empty input is not allowed"):(c(""),s([d].concat(Object(Pa.a)(o))),void p(""))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"h1",variant:"h4",align:"center"},"WordList"),r.a.createElement(z.a,{marginTop:3,marginBottom:3},r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(J.a,{variant:"outlined",label:"Word",placeholder:"Enter new word...",name:"word",inputProps:{"data-testid":"my-word-input"},fullWidth:!0,value:d,onChange:function(e){p(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&E()},helperText:r.a.createElement("span",{"data-testid":"word-input-error"},a),error:Boolean(a)}),r.a.createElement(Ke.a,{type:"submit","data-testid":"add-word-button",onClick:E},r.a.createElement(Fa.a,null))),r.a.createElement(bt.a,{"data-testid":"word-list"},o.map((function(e,t){return r.a.createElement(ft.a,{key:e,"data-testid":"word-list-item-".concat(t+1)},r.a.createElement(ht.a,{primary:Ga()(e,{length:15})}))}))))))};var Ma=function(){var e=Object(n.useState)(""),t=Object(V.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(V.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)([]),m=Object(V.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(""),b=Object(V.a)(E,2),f=b[0],g=b[1],h=function(){return o.includes(f)?c("has already included the word"):""===f.trim()?c("empty input is not allowed"):(c(""),g(""),p([f].concat(Object(Pa.a)(o))),void setTimeout((function(){s([f].concat(Object(Pa.a)(d)))}),500))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"h1",variant:"h4",align:"center"},"AsyncWordList"),r.a.createElement(z.a,{marginTop:3,marginBottom:3},r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(J.a,{variant:"outlined",label:"Word",placeholder:"Enter new word...",name:"word",inputProps:{"data-testid":"my-word-input"},fullWidth:!0,value:f,onChange:function(e){g(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&h()},helperText:r.a.createElement("span",{"data-testid":"word-input-error"},a),error:Boolean(a)}),r.a.createElement(Ke.a,{type:"submit","data-testid":"add-word-button",onClick:h},r.a.createElement(Fa.a,null))),r.a.createElement(bt.a,{"data-testid":"word-list"},o.map((function(e,t){return r.a.createElement(ft.a,{key:e,"data-testid":"word-list-item-".concat(t+1)},r.a.createElement(ht.a,{primary:Ga()(e,{length:15})}))}))))))},Qa=a(549),qa=a(550);var Va=function(){var e=Object(n.useState)(""),t=Object(V.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(V.a)(l,2),o=i[0],s=i[1],u=Object(n.useState)([]),m=Object(V.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(""),f=Object(V.a)(E,2),g=f[0],O=f[1],y=Object(n.useState)(""),j=Object(V.a)(y,2),S=j[0],C=j[1],x=Object(n.useState)(0),A=Object(V.a)(x,2),w=A[0],L=A[1],T=Object(n.useState)(!1),R=Object(V.a)(T,2),k=R[0],_=R[1],I=function(e){C(e.target.value)},U=function(e){"Enter"===e.key&&D()},D=function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==S.trim()){e.next=2;break}return e.abrupt("return",s("empty input is not allowed"));case 2:return e.next=4,b.patch("/words/".concat(t),{word:S});case 4:a=e.sent,n=a.data.word,s(""),C(""),_(!1),L(0),p(d.map((function(e){return e.id===t?n:e})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.includes(g)){e.next=2;break}return e.abrupt("return",c("has already included the word"));case 2:if(""!==g.trim()){e.next=4;break}return e.abrupt("return",c("empty input is not allowed"));case 4:return c(""),O(""),e.next=8,b.post("/words",{word:g});case 8:t=e.sent,a=t.data.word,p([a].concat(Object(Pa.a)(d)));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.delete("/words/".concat(t));case 2:p(d.filter((function(e){return e.id!==t})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(n.useCallback)(Object(v.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/words");case 2:t=e.sent,a=t.data.words,p(a);case 5:case"end":return e.stop()}}),e)}))),[]),B=Object(Z.a)(function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/words?term=".concat(t));case 2:a=e.sent,n=a.data.words,p(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3),G=Object(V.a)(B,1)[0];return Object(n.useEffect)((function(){F()}),[F]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{component:"h1",variant:"h4",align:"center"},"WordList API"),r.a.createElement(z.a,{marginTop:3,marginBottom:3},r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(J.a,{variant:"outlined",label:"Search",placeholder:"Enter a word...",name:"search",inputProps:{"data-testid":"search-input"},fullWidth:!0,onChange:function(e){return G(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",label:"Word",placeholder:"Enter new word...",name:"word",inputProps:{"data-testid":"my-word-input"},fullWidth:!0,value:g,onChange:function(e){O(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&N()},helperText:r.a.createElement("span",{"data-testid":"word-input-error"},a),error:Boolean(a)}),r.a.createElement(Ke.a,{type:"submit","data-testid":"add-word-button",onClick:N},r.a.createElement(Fa.a,null))),r.a.createElement(bt.a,{"data-testid":"word-list"},d.map((function(e){var t=e.word,a=e.id;return r.a.createElement(ft.a,{key:t,"data-testid":"word-list-item-".concat(a)},k&&w===a?r.a.createElement(J.a,{variant:"outlined",label:"Word",placeholder:"Enter updated word...",name:"word",inputProps:{"data-testid":"edit-word-input"},fullWidth:!0,value:S,onChange:I,onKeyPress:U,helperText:r.a.createElement("span",{"data-testid":"edit-input-error"},o),error:Boolean(o)}):r.a.createElement(ht.a,{primary:Ga()(t,{length:15})}),r.a.createElement(qt.a,{variant:"contained",color:"primary"},r.a.createElement(Ke.a,{type:"submit","data-testid":"edit-word-button",onClick:function(){return function(e){if(k)return w===e?D(e):(L(e),C(d.find((function(t){return t.id===e})).word),void _(!0));L(e),C(d.find((function(t){return t.id===e})).word),_(!k)}(a)}},k&&w===a?r.a.createElement(Qa.a,null):r.a.createElement(qa.a,null)),r.a.createElement(Ke.a,{type:"submit","data-testid":"delete-word-button",onClick:function(){return P(a)}},r.a.createElement(Yt.a,null))))}))))))},Za=[{id:1,name:"Sathit",avatar:a(449)},{id:2,name:"Sombut",avatar:a(450)},{id:3,name:"Somchai",avatar:a(451)},{id:4,name:"Somprasong",avatar:a(452)},{id:5,name:"Sornthep",avatar:a(453)}];var Ya=function(){return r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(z.a,{marginBottom:3},r.a.createElement(Y.a,{align:"center",variant:"h4",component:"h1"},"Member List")),r.a.createElement(bt.a,{"data-testid":"member-list"},Za.map((function(e){return r.a.createElement(ft.a,{key:e.id,"data-testid":"member-item"},r.a.createElement(La.a,null,r.a.createElement(pe.a,{alt:e.name,src:e.avatar,imgProps:{"data-testid":"member-avatar"}})),r.a.createElement(ht.a,{primary:e.name,"data-testid":"member-name"}))}))))};function Ka(){var e=Object(Q.h)(),t=e.pathname,a=e.search,n=e.hash;return r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(Y.a,{variant:"h4",component:"h1",align:"center"},"Location"),r.a.createElement(Ft.a,null,r.a.createElement(Bt.a,null,r.a.createElement(Gt.a,null,r.a.createElement(Wt.a,null,"Property"),r.a.createElement(Wt.a,null,"Value"))),r.a.createElement(Mt.a,null,r.a.createElement(Gt.a,null,r.a.createElement(Wt.a,null,"pathname"),r.a.createElement(Wt.a,null,t)),r.a.createElement(Gt.a,null,r.a.createElement(Wt.a,null,"search"),r.a.createElement(Wt.a,null,a)),r.a.createElement(Gt.a,null,r.a.createElement(Wt.a,null,"hash"),r.a.createElement(Wt.a,null,n)))))}var za=a(461),Ha=a(460),Ja=a(562),Xa=a(551),$a=a(554);var en=function(){var e,t,a,c=Object(je.d)({mode:"onChange",resolver:Object(Ce.a)(Se.c().shape({title:Se.d().required(),category:Se.d().oneOf(["java","python","ruby"]).required(),status:Se.d().oneOf(["drafted","published"]).required(),content:Se.d().required()}))}),l=c.register,i=c.handleSubmit,o=c.errors,s=c.setValue,u=c.formState,m=u.isDirty,d=u.isValid,p=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/posts",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l("status")}),[l]),r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(z.a,{marginBottom:2},r.a.createElement(Y.a,{variant:"h4",component:"h1",align:"center"},"Post Form")),r.a.createElement("form",{onSubmit:i(p)},r.a.createElement(z.a,{display:"flex",flexDirection:"column"},r.a.createElement(J.a,{inputRef:l,variant:"outlined",label:"Title",placeholder:"Enter a title",name:"title",inputProps:{"data-testid":"post-form-title"},fullWidth:!0,helperText:r.a.createElement("span",{"data-testid":"post-form-title-helper"},(null===(e=o.title)||void 0===e?void 0:e.message)||""),error:Boolean(o.title)}),r.a.createElement(X.a,{error:Boolean(o.category)},r.a.createElement($.a,{htmlFor:"post-form-category"},"Category"),r.a.createElement(ee.a,{native:!0,name:"category",inputRef:l,inputProps:{id:"post-form-category","data-testid":"post-form-category"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"java"},"Java"),r.a.createElement("option",{value:"python"},"Python"),r.a.createElement("option",{value:"ruby"},"Ruby")),r.a.createElement(za.a,null,(null===(t=o.category)||void 0===t?void 0:t.message)||"")),r.a.createElement(z.a,{marginTop:2},r.a.createElement(X.a,{component:"fieldset"},r.a.createElement(Ha.a,{component:"legend"},"Status"),r.a.createElement(Ja.a,{native:!0,"aria-label":"status",name:"status",onChange:function(e){return s("status",e.target.value)}},r.a.createElement(Xa.a,{value:"drafted",control:r.a.createElement($a.a,{inputProps:{"data-testid":"post-form-drafted-status"}}),label:"Drafted"}),r.a.createElement(Xa.a,{value:"published",control:r.a.createElement($a.a,{inputProps:{"data-testid":"post-form-published-status"}}),label:"Published"})))),r.a.createElement(J.a,{inputRef:l,multiline:!0,rows:10,variant:"outlined",label:"Content",placeholder:"Enter a content",name:"content",inputProps:{"data-testid":"post-form-content"},fullWidth:!0,helperText:r.a.createElement("span",{"data-testid":"post-form-content-helper"},(null===(a=o.content)||void 0===a?void 0:a.message)||""),error:Boolean(o.content)}),r.a.createElement(z.a,{marginTop:2,marginLeft:"auto"},r.a.createElement(Ae.a,{type:"submit",variant:"contained",color:"primary",disabled:!d||!m,"data-testid":"post-form-submit-button"},"Submit")))))};var tn=function(){var e,t,a,c=Object(je.d)({mode:"onChange",resolver:Object(Ce.a)(Se.c().shape({title:Se.d().required(),category:Se.d().oneOf(["java","python","ruby"]).required(),status:Se.d().oneOf(["drafted","published"]).required(),content:Se.d().required(),image:Se.a().test("image",(function(e){return e.length>0}))}))}),l=c.register,i=c.handleSubmit,o=c.errors,s=c.setValue,u=c.formState,m=u.isDirty,d=u.isValid,p=function(){var e=Object(v.a)(h.a.mark((function e(t){var a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in a=t.image,n=Object(q.a)(t,["image"]),r=new FormData,n)r.append(c,n[c]);return r.append("image",a[0]),e.next=6,b.post("/posts",r,{headers:{"Content-Type":"multipart/form-data"}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l("status")}),[l]),r.a.createElement(he.a,{maxWidth:"sm"},r.a.createElement(z.a,{marginBottom:2},r.a.createElement(Y.a,{variant:"h4",component:"h1",align:"center"},"Post Form")),r.a.createElement("form",{onSubmit:i(p)},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement(z.a,{height:250},r.a.createElement(Le,{name:"image",innerRef:l,buttonText:"Change Image"}))),r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement(z.a,{display:"flex",flexDirection:"column"},r.a.createElement(J.a,{inputRef:l,variant:"outlined",label:"Title",placeholder:"Enter a title",name:"title",inputProps:{"data-testid":"post-form-title"},fullWidth:!0,helperText:r.a.createElement("span",{"data-testid":"post-form-title-helper"},(null===(e=o.title)||void 0===e?void 0:e.message)||""),error:Boolean(o.title)}),r.a.createElement(X.a,{error:Boolean(o.category)},r.a.createElement($.a,{htmlFor:"post-form-category"},"Category"),r.a.createElement(ee.a,{native:!0,name:"category",inputRef:l,inputProps:{id:"post-form-category","data-testid":"post-form-category"}},r.a.createElement("option",{"aria-label":"None",value:""}),r.a.createElement("option",{value:"java"},"Java"),r.a.createElement("option",{value:"python"},"Python"),r.a.createElement("option",{value:"ruby"},"Ruby")),r.a.createElement(za.a,null,(null===(t=o.category)||void 0===t?void 0:t.message)||"")),r.a.createElement(z.a,{marginTop:2},r.a.createElement(X.a,{component:"fieldset"},r.a.createElement(Ha.a,{component:"legend"},"Status"),r.a.createElement(Ja.a,{native:!0,"aria-label":"status",name:"status",onChange:function(e){return s("status",e.target.value)}},r.a.createElement(Xa.a,{value:"drafted",control:r.a.createElement($a.a,{inputProps:{"data-testid":"post-form-drafted-status"}}),label:"Drafted"}),r.a.createElement(Xa.a,{value:"published",control:r.a.createElement($a.a,{inputProps:{"data-testid":"post-form-published-status"}}),label:"Published"})))),r.a.createElement(J.a,{inputRef:l,multiline:!0,rows:10,variant:"outlined",label:"Content",placeholder:"Enter a content",name:"content",inputProps:{"data-testid":"post-form-content"},fullWidth:!0,helperText:r.a.createElement("span",{"data-testid":"post-form-content-helper"},(null===(a=o.content)||void 0===a?void 0:a.message)||""),error:Boolean(o.content)}),r.a.createElement(z.a,{marginTop:2,marginLeft:"auto"},r.a.createElement(Ae.a,{type:"submit",variant:"contained",color:"primary",disabled:!d||!m,"data-testid":"post-form-submit-button"},"Submit")))))))};function an(){return r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"/cypress/selectors",component:Na}),r.a.createElement(Q.b,{path:"/cypress/async-word-list",component:Ma}),r.a.createElement(Q.b,{path:"/cypress/word-list",component:Wa}),r.a.createElement(Q.b,{path:"/cypress/word-list-api",component:Va}),r.a.createElement(Q.b,{path:"/cypress/member-list",component:Ya}),r.a.createElement(Q.b,{path:"/cypress/location",component:Ka}),r.a.createElement(Q.b,{path:"/cypress/post-form",component:en}),r.a.createElement(Q.b,{path:"/cypress/post-form-data",component:tn}))}function nn(){return r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"/admin"},r.a.createElement(Ua,null)),r.a.createElement(Q.b,{path:"/cypress"},r.a.createElement(an,null)),r.a.createElement(Q.b,null,r.a.createElement(ot,null)))}var rn=M();function cn(){return r.a.createElement(i.a,{store:rn},r.a.createElement(o.a,{history:W},r.a.createElement(nn,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(cn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[224,1,2]]]);
//# sourceMappingURL=main.affc0478.chunk.js.map